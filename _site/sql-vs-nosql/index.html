<!DOCTYPE html> <html lang="en-US"> <head prefix="og: http://ogp.me/ns#"> <meta charset="UTF-8" /> <meta http-equiv="X-UA-Compatible" content="ie=edge" /> <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <meta name="mobile-web-app-capable" content="yes" /> <meta name="apple-mobile-web-app-capable" content="yes" /> <meta name="application-name" content="Janessa Tran" /> <meta name="apple-mobile-web-app-status-bar-style" content="#fff" /> <meta name="apple-mobile-web-app-title" content="Janessa Tran" /> <title> System Design: SQL vs NoSQL - Janessa Tran </title> <link rel="alternate" href="http://localhost:4000/sql-vs-nosql/" hreflang="en-US" /> <link rel="canonical" href="http://localhost:4000/sql-vs-nosql/" /> <meta name="description" content="Full-stack software engineer" /> <meta name="referrer" content="no-referrer-when-downgrade" /> <meta property="fb:app_id" content="" /> <meta property="og:site_name" content="System Design: SQL vs NoSQL | " /> <meta property="og:title" content="System Design: SQL vs NoSQL | " /> <meta property="og:type" content="website" /> <meta property="og:url" content="http://localhost:4000/sql-vs-nosql/" /> <meta property="og:description" content="Full-stack software engineer" /> <meta property="og:image" content="http://localhost:4000/assets/img/me.png" /> <meta property="og:image:width" content="640" /> <meta property="og:image:height" content="640" /> <meta name="twitter:card" content="summary" /> <meta name="twitter:title" content="System Design: SQL vs NoSQL | janessatran_" /> <meta name="twitter:url" content="http://localhost:4000/sql-vs-nosql/" /> <meta name="twitter:site" content="@janessatran_" /> <meta name="twitter:creator" content="@janessatran_" /> <meta name="twitter:description" content="Full-stack software engineer" /> <meta name="twitter:image" content="http://localhost:4000/assets/img/me.png" /> <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Janessa Tran" /> <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon.png" /> <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png" /> <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png" /> <link rel="manifest" href="/assets/favicons/site.webmanifest" /> <link rel="mask-icon" href="/assets/favicons/safari-pinned-tab.svg" color="#5bbad5" /> <meta name="apple-mobile-web-app-title" content="Jekyll Klise" /> <meta name="application-name" content="Jekyll Klise" /> <meta name="msapplication-TileColor" content="#da532c" /> <meta name="theme-color" content="#2c2c2c" /> <link rel="stylesheet" href="/assets/css/style.css" /> </head> <body data-theme="dark" class="notransition"> <script> const body = document.body; const data = body.getAttribute("data-theme"); const initTheme = (state) => { if (state === "dark") { body.setAttribute("data-theme", "dark"); } else if (state === "light") { body.removeAttribute("data-theme"); } else { localStorage.setItem("theme", data); } }; initTheme(localStorage.getItem("theme")); setTimeout(() => body.classList.remove("notransition"), 75); </script> <div class="navbar" role="navigation"> <nav class="menu"> <input type="checkbox" id="menu-trigger" class="menu-trigger" /> <label for="menu-trigger"> <span class="menu-icon"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512"> <path d="M64,384H448V341.33H64Zm0-106.67H448V234.67H64ZM64,128v42.67H448V128Z" /> </svg> </span> </label> <a id="mode"> <svg class="mode-sunny" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512"> <title>LIGHT</title> <line x1="256" y1="48" x2="256" y2="96" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="256" y1="416" x2="256" y2="464" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="108.92" x2="369.14" y2="142.86" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="369.14" x2="108.92" y2="403.08" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="464" y1="256" x2="416" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="96" y1="256" x2="48" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="403.08" x2="369.14" y2="369.14" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="142.86" x2="108.92" y2="108.92" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <circle cx="256" cy="256" r="80" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> </svg> <svg class="mode-moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512"> <title>DARK</title> <line x1="256" y1="48" x2="256" y2="96" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="256" y1="416" x2="256" y2="464" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="108.92" x2="369.14" y2="142.86" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="369.14" x2="108.92" y2="403.08" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="464" y1="256" x2="416" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="96" y1="256" x2="48" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="403.08" x2="369.14" y2="369.14" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="142.86" x2="108.92" y2="108.92" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <circle cx="256" cy="256" r="80" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> </svg> </a> <div class="trigger"> <div class="trigger-container"><a class="menu-link" href="/">home</a><a class="menu-link" href="/archive/">archive</a><a class="menu-link" href="/projects/">projects</a><a class="menu-link rss" href="/feed.xml"> <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 512 512" fill="#ED812E"> <title>RSS</title> <path d="M108.56,342.78a60.34,60.34,0,1,0,60.56,60.44A60.63,60.63,0,0,0,108.56,342.78Z" /> <path d="M48,186.67v86.55c52,0,101.94,15.39,138.67,52.11s52,86.56,52,138.67h86.66C325.33,312.44,199.67,186.67,48,186.67Z" /> <path d="M48,48v86.56c185.25,0,329.22,144.08,329.22,329.44H464C464,234.66,277.67,48,48,48Z" /> </svg> </a> </div> </div> </nav> </div> <div class="wrapper post"> <main class="page-content" aria-label="Content"> <article itemscope itemtype="https://schema.org/BlogPosting"> <header class="header"> <h1 class="header-title" itemprop="headline">System Design: SQL vs NoSQL</h1> <div class="post-meta"> <time datetime="2021-12-22T00:00:00-08:00" itemprop="datePublished"> Dec 22, 2021 </time> <time hidden datetime="" itemprop="dateModified"> Dec 22, 2021 </time> <span hidden itemprop="publisher" itemtype="Person">Janessa Tran</span> <span hidden itemprop="image"></span> <span hidden itemprop="mainEntityOfPage"><p>When deciding what type of database to use for an application system, it’s important to know about the strengths and weaknesses of your options. The main two types are SQL (relational database) and NoSQL (non-relational / distributed database).</p> </span> </div> </header> <div class="page-content" itemprop="articleBody"> <p>When deciding what type of database to use for an application system, it’s important to know about the strengths and weaknesses of your options. The main two types are SQL (relational database) and NoSQL (non-relational / distributed database).</p> <h2 id="sql"> <a href="#sql" class="anchor-head"></a> SQL </h2> <p>SQL Databases are also known as relational databases. Examples of popular SQL databases include MySQL, PostgreSQL, Microsoft SQL Server, Oracle, CockroachDB. They offer strength in the following areas:</p> <ol> <li><strong>Relationships</strong>: Allows easy querying between data among multiple tables. These relationships are defined using primary and foreign key columns.</li> <li><strong>Structured Data</strong>: The data is structured using SQL schemas which define the columns and tables in the DB. Because the model / format of the data must be known before storing anything, it reduces room for error in saving data.</li> <li><strong>ACID compliant</strong>: Atomicity, Consistency, Isolation, Durability. SQL transactions are executed atomically, meaning they are either all excuted or not executed at all if any statement in the group fails. An example of the importance of this feature is demonstrated in the scenario where a user is looking to transfer money from their bank, but lack sufficient funds. Instead of the withdrawal executing, the entire transaction would just fail.</li> </ol><pre><code class="language-SQL">BEGIN TRANSACTION t1;
UPDATE balances SET balance = balance - 100 WHERE account_id = 1;
UPDATE balances SET balance = balance + 25 WHERE account_id = 2;
COMMIT TRANSACTION
</code></pre><p>On the other hand, SQL Databases present weaknesses in the following ways:</p> <ol> <li><strong>Structured Data</strong>: Columns and tables have to be set up ahead of time, so these databases take more time to set up compared to NoSQL. They are also not as good at storing/querying unstructured data.</li> <li><strong>Scaling is difficult</strong>: Horizontal scaling is difficult, so if a system is write-heavy the only option is often to vertically scale the database up which is more expensive in general than provisioning additional servers. For read-heavy systems, you can provision multiple read-only replicas of the DB.</li> </ol> <h2 id="nosql"> <a href="#nosql" class="anchor-head"></a> NoSQL </h2> <p>NoSQL stands for “Not only SQL” and emerged with big data and web/mobile applications. It is rooted in graph, document, key-value pairs and wide-column stores. Examples of popular NoSQL databases include MongoDB, Redis, DynamoDB, Cassandra, CouchDB. The advantages this type of database offers includes:</p> <ol> <li><strong>Unstructured Data</strong>: It does not support table relationships, but instead stores data in documents or key-value pairs. This makes the database more flexible and easier to set up, particularly when storing unstructured data.</li> <li><strong>Horizontal Scaling</strong>: NoSQL databases can be divded across different data stores, allowing for distributed databases, since it lacks relationships. This makes it easier to scale the DB for large amounts of data without having to purchase a single, expensive sever. They support both read-heavy and write-heavy systems.</li> </ol> <p>The weaknesses for this type of database include:</p> <ol> <li><strong>Eventual Consistency</strong>: Because these databases are usually designed for distributed use cases, after writing to one shard in a distributed NoSQL cluster, there is a small delay before the change is propagated to other replicas. During this time, reading from a replica can yield inaccurate information. Note, this isn’t necessarily a weakness of NoSQL databases but rather distributed databases in general.</li> </ol> <h2 id="sql-vs-nosql-scenarios"> <a href="#sql-vs-nosql-scenarios" class="anchor-head"></a> SQL vs NoSQL Scenarios </h2> <p><strong><em>Amazon Targeted Ads</em></strong>: Let’s say you are building a targeted product advertisement engine that is personalized for customers. What kind of database should be used?</p> <p><strong>NoSQL.</strong> There are a few considerations to make. One, this service needs to be built for Amazon’s tens of millions of customers so horizontal scaling is important. It’s also probably fine that that the data is a little out of date but eventually consistency since it’s just recommendations.</p> <hr /> <p><strong><em>Banks Loans</em></strong>: We want to build a service at our bank to allow users to apply for loans through our application. The database will store loan applications which includes information about the loan amount, user’s current balance, and user’s prior transaction history. What kind of database should be used?</p> <p><strong>SQL.</strong> In financial applications, data consistency is very important. Also, there are many relational tables in this scenario including tables for User, Loan, and Transaction.</p><hr /> <p><strong><em>Website Session Store</em></strong>: You want to create a session store to manage session information for each user who might visit a website. What type of database should be used?</p> <p><strong>NoSQL.</strong> Information about a user’s session is unstructured in nature since each user’s session differs. It’s easier to store this type of information in a schema-less document. Moreover, low-latency access to session data is important for a good user experience.</p><hr /> <p><strong><em>Health Care Company Info</em></strong>: We want a database to maintain information about the different offices for health care provider company. The offices are in different states and have many doctors who work with multiple patients. What type of database should be used?</p> <p><strong>SQL.</strong> There are many relations in the schema that are apparent: An Office has many Doctors, a Doctor has many Patients, and a Patient has many health records.</p> </div> </article> </main> <nav class="post-nav"> <a class="post-nav-item post-nav-prev" href="/self-awareness/" > <div class="nav-arrow">Previous</div> <span class="post-title">Self-awareness</span> </a> <a class="post-nav-item post-nav-next" href="/proxy-servers/"> <div class="nav-arrow">Next</div> <span class="post-title">Proxy Servers</span> </a> </nav> <footer class="footer"> <a class="footer_item" href="/thanks">ack.</a> <!-- <a class="footer_item" href="/assets/resume.pdf" download>resume</a> --> <a class="footer_item" href="/feed.xml">rss</a> <span class="footer_item">&copy; 2023</span> <small class="footer_copyright"> <!-- Klisé Theme: https://github.com/piharpi/jekyll-klise --> <a href="https://github.com/piharpi/jekyll-klise" target="_blank" rel="noreferrer noopener" >klisé</a > theme on <a href="https://jekyllrb.com" target="_blank" rel="noreferrer noopener" >jekyll</a > </small> </footer> <script src="/assets/js/main.js" defer="defer"></script> </div> </body> </html>
